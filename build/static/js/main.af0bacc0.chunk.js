(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){},30:function(e,t,a){e.exports=a.p+"static/media/showContentInfo.6df27f60.mp3"},31:function(e,t,a){e.exports=a.p+"static/media/enterGame.daa0c251.mp3"},32:function(e,t,a){e.exports=a.p+"static/media/open.b640f9b5.mp3"},40:function(e,t){e.exports="data:image/png;base64,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"},41:function(e,t,a){e.exports=a(52)},52:function(e,t,a){"use strict";a.r(t);var r=a(15),o=a.n(r),n=a(19),i=a(21),l=a.n(i),c=a(0),s=a.n(c),m=a(9),u=a(14),g=a(2),p=a(3),d=a(4),h=a(11),f=a(5);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var a,r=Object(f.a)(e);if(t){var o=Object(f.a)(this).constructor;a=Reflect.construct(r,arguments,o)}else a=r.apply(this,arguments);return Object(h.a)(this,a)}}var E=function(e){Object(d.a)(a,e);var t=v(a);function a(e){var r;Object(g.a)(this,a),r=t.call(this,e);var o=e.rootElementType;return r.el=document.createElement(o),r}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.props.rootElement.append(this.el)}},{key:"componentWillUnmount",value:function(){this.props.rootElement.removeChild(this.el)}},{key:"render",value:function(){var e=this.props.children;return l.a.createPortal(e,this.el)}}]),a}(s.a.Component);E.defaultProps={rootElement:document.querySelector("body"),rootElementType:"div"};var y=E,b=a(8),x=a(1),w=function(e){var t=Object(c.useState)(!1),a=Object(b.a)(t,2),r=a[0],o=a[1],n=Object(c.useState)(null),i=Object(b.a)(n,2),l=i[0],s=i[1];return Object(c.useEffect)(function(){if(e){var t=document.createElement("script");t.type="text/javascript",t.src=e,t.async=!0,t.addEventListener("load",function(){o(!0)}),document.body.append(t),s(t)}},[e]),Object(c.useEffect)(function(){return function(){l&&document.body.removeChild(l)}},[l]),r},S=function(e){var t=Object(c.useState)(!1),a=Object(b.a)(t,2),r=a[0],o=a[1],n=w("//apps.8thwall.com/xrweb?appKey=".concat(e)),i=w("//cdn.8thwall.com/web/xrextras/xrextras.js");return Object(c.useEffect)(function(){n&&i&&o(!0)},[n,i]),r},C=function(e,t){var a=S(e),r=Object(c.useState)(null),o=Object(b.a)(r,2),n=o[0],i=o[1];return Object(c.useEffect)(function(){if(!n&&a&&t){var e=window.XRExtras;e.Loading.showLoading({onxrloaded:function(){var a=window.XR8;window.THREE=x,a.XrController().configure({disableWorldTracking:!1}),a.addCameraPipelineModules([a.GlTextureRenderer.pipelineModule(),a.XrController.pipelineModule(),e.AlmostThere.pipelineModule(),e.Loading.pipelineModule(),e.RuntimeError.pipelineModule()]),a.run({canvas:t}),i(a)}})}},[n,a,t]),n};var O=a(28),A=a(34),B=Object(c.createContext)(null);function I(e){var t=e.children,a=Object(u.a)(e,["children"]),r=s.a.useState({}),o=Object(b.a)(r,2),n=o[0],i=o[1],l=Object(c.useCallback)(function(e){i(function(t){return Object(A.a)({},t,e)})},[i]);return s.a.createElement(B.Provider,{value:Object(A.a)({},n,a,{updateCtx:l})},s.a.cloneElement(t,Object(A.a)({},n,a,{updateCtx:l})))}var j=a(29);function M(){var e=[],t={backg:"dawn",name:"groundlevel"};return e.push(t),(t={}).backg="night",t.name="1level",e.push(t),(t={}).backg="forest",t.name="2level",e.push(t),(t={}).backg="sunset",t.name="3level",e.push(t),(t={}).backg="park",t.name="4level",e.push(t),(t={}).backg="lobby",t.name="5level",e.push(t),e}var F=a.n(j)()(function(e){return{sceneIsReady:!1,audioMute:!1,floor:0,forceFloor:0,triggerRaiser:!0,recenterAwaiting:!1,levelsDataArray:M(),doorOpener:!1,doorCloser:!1,sceneIsReadySecondary:!1,hasFirstPlacement:!1,modelNum:0,boundsWarning:!1,DebugWanted:!1,floorClickedX:0,floorClickedY:0,floorClickedZ:0,cursorToX:0,cursorToY:0,cursorToZ:0,characterWelcomeVideoFinished:!1,clearRaiser:function(){return e(function(e){return{triggerRaiser:!1}})},clearDoorOpener:function(){return e(function(e){return{doorOpener:!1}})},setfloorClickedX:function(t){return e(function(e){return{floorClickedX:t}})},setfloorClickedY:function(t){return e(function(e){return{floorClickedY:t}})},setfloorClickedZ:function(t){return e(function(e){return{floorClickedZ:t}})},setfcursorToX:function(t){return e(function(e){return{cursorToX:t}})},setfcursorToY:function(t){return e(function(e){return{cursorToY:t}})},setcursorToZ:function(t){return e(function(e){return{cursorToZ:t}})},clearDoorCloser:function(){return e(function(e){return{doorCloser:!1}})},upRaiser:function(){return e(function(e){return{triggerRaiser:!0}})},sceneIsReadyRoutine:function(){console.log("set sceneIsReady"),e(function(e){return{sceneIsReadySecondary:!0}})},turnDebugOn:function(){console.log("set Debug On")},hasPlacedRoutine:function(){e(function(e){return{hasFirstPlacement:!0}})},setWelcomeVideoFinished:function(){e(function(e){return{characterWelcomeVideoFinished:!0}})},changeModel:function(t){console.log("changeModel"),e(function(e){return{modelNum:t}})},setForScene:function(t){console.log("setForScen"+t),e(function(e){return{floor:e.floor+1,forceFloor:t,doorCloser:!1,doorOpener:!0}})},doBoundsWarning:function(t){e(function(e){return{boundsWarning:t}})},setrecenterAwaiting:function(t){e(function(e){return{recenterAwaiting:t}})},dodoorOpenr:function(){console.log("doorOpen"),e(function(e){return{floor:e.floor+1,doorCloser:!1,doorOpener:!0}})},doorCloseRoutine:function(){e(function(e){return{doorCloser:!0,doorOpener:!1}})}}}),R=a(16),k=a(30),W=a.n(k),P=a(60),_=a(13),L=a(31),T=a.n(L),V=a(32),Z=a.n(V),U=a(1),Q=new(function(){function e(){Object(g.a)(this,e),this.lastGoodCameraPosition=new U.Vector3,this.getVertexShader=this.getVertexShader.bind(this),this.getFragmentShader=this.getFragmentShader.bind(this),this.getUniforms=this.getUniforms.bind(this),this.getVertexShader=this.getVertexShader.bind(this),this.getFragmentShaderChroma=this.getFragmentShaderChroma.bind(this),this.addLightMatLighting=this.addLightMatLighting.bind(this),this.Initialize()}return Object(p.a)(e,[{key:"addLightMatLighting",value:function(e){var t=this;e.traverse(function(e){!0===e.isMesh&&(e.frustumCulled=!1,null!=e.material.emissiveMap&&null!=e.material.map?t.setupLightmapShader(e,e.material):null!=e.material.map&&t.setupUnlitMaterial(e,e.material))})}},{key:"getVertexShader",value:function(){return"    \n            varying vec2 vUv;\n            void main()\n            {\n                vUv = uv;\n                vUv.x = mix(0.0,1.0,uv.x);\n                vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                gl_Position = projectionMatrix * mvPosition;\n            }"}},{key:"getFragmentShader",value:function(){return"\n        uniform sampler2D colorTexture;\n        uniform sampler2D lightmapTexture;\n        uniform vec4 mainColor;\n        uniform float glow;\n        uniform vec4 glowColour;  \n        varying vec2 vUv;\n        varying vec2 vUv2;\n\n        void main( void ) {\n\n                vec4 c = texture2D( colorTexture, vUv );\n                vec4 l = texture2D( lightmapTexture, vUv2 );\n                c.rgb *= mainColor.rgb;\n                c.rgb *= l.rgb;\n                c.rgb = mix(c.rgb, glowColour.rgb, glow);\n                gl_FragColor = c;\n                gl_FragColor.a = c.a;\n        }\n    "}},{key:"getFragmentShaderChroma",value:function(){console.log("  get getFragmentShaderChroma");return"    \n            uniform sampler2D colorTexture;\n            varying vec2 vUv;\n            uniform float glow;\n            uniform vec4 glowColour;                     \n            \n            void main( void ) {\n                const float radius = 0.003;\n                vec4 cs1 = texture2D( colorTexture, vUv );\n                vec4 cs2 = texture2D( colorTexture, vUv + vec2(-radius, -radius));\n                vec4 cs4 = texture2D( colorTexture, vUv + vec2(radius, radius));\n                \n                vec4 c = (cs1 + cs2 + cs4) / 3.0;\n        \n                vec3 color = vec3(0.0,1.0,0.0);\n                float a = (0.875 - dot(color, c.rgb) / (length(c.rgb) + 0.04)) * 4.0;\n                a = pow(a,3.0);\n                vec4 c2 = vec4(mix(cs1.rgb, glowColour.rgb, glow), a);\n                float deltag = c2.g - ((c2.r + c2.g + c2.b)*0.333);\n        \n                if (deltag > 0.0)\n                    c2.g -= (deltag*1.0);\n\n                gl_FragColor = c2; \n            }"}},{key:"ParamsGet",value:function(e){var t=window.location.search;return new URLSearchParams(t).get(e)}},{key:"applyMaterial",value:function(e,t){e.traverse(function(e){!0===e.isMesh&&(e.material=t)})}},{key:"getUniforms",value:function(e){return{colorTexture:{value:e},glow:{value:0},glowColour:{value:{x:0,y:1,z:0,w:1}}}}},{key:"Initialize",value:function(){console.log("GenTools Initialized")}},{key:"setupLightmapShader",value:function(e,t){var a=new U.Vector4(t.color.r,t.color.g,t.color.b,t.color.a),r={colorTexture:{value:t.map},mainColor:{value:a},lightmapTexture:{value:t.emissiveMap},lightmapOffset:{value:t.emissiveMap.offset},lightmapScale:{value:t.emissiveMap.repeat},glow:{value:0},glowColour:{value:{x:0,y:1,z:0,w:1}}},o=new U.ShaderMaterial({uniforms:r,vertexShader:this.getVertexShader(),fragmentShader:this.getFragmentShader(),transparent:t.transparent,alphaTest:t.alphaTest});e.material=o,this.setTextureSettingBase(t.map),this.setTextureSettingLightmap(t.emissiveMap)}},{key:"setupUnlitMaterial",value:function(e,t){var a=new U.MeshBasicMaterial({map:t.map,color:t.color,transparent:t.transparent,alphaTest:t.alphaTest});e.material=a,this.setTextureSettingBase(t.map)}},{key:"setTextureSettingBase",value:function(e){e.anisotropy=8,e.minFilter=U.LinearMipmapLinearFilter,e.encoding=U.LinearEncoding}},{key:"setTextureSettingLightmap",value:function(e){e.encoding=U.LinearEncoding}}]),e}());function D(e,t){var a=new x.Vector4(t.color.r,t.color.g,t.color.b,t.color.a),r={colorTexture:{value:t.map},mainColor:{value:a},lightmapTexture:{value:t.emissiveMap},lightmapOffset:{value:t.emissiveMap.offset},lightmapScale:{value:t.emissiveMap.repeat},glow:{value:0},glowColour:{value:{x:0,y:1,z:0,w:1}}},o=new x.ShaderMaterial({uniforms:r,vertexShader:Q.getVertexShader(),fragmentShader:Q.getFragmentShader(),transparent:t.transparent,alphaTest:t.alphaTest});e.material=o,z(t.map),t.emissiveMap.encoding=x.LinearEncoding}function z(e){e.anisotropy=8,e.minFilter=x.LinearMipmapLinearFilter,e.encoding=x.LinearEncoding}function Y(e){var t=Object(P.a)("/elevator2.glb"),a=t.nodes,r=t.materials,o=Object(m.d)().scene,n=F(function(e){return e.doorOpener}),i=(F(function(e){return e.dodoorOpenr}),F(function(e){return e.doorCloser})),l=(F(function(e){return e.triggerRaiser}),Object(c.useRef)()),u=Object(c.useRef)(),g=Object(c.useRef)(),p=Object(c.useRef)();Object(c.useEffect)(function(){o.traverse(function(e){var t,a,r;!0===e.isMesh&&(e.frustumCulled=!1,null!=e.material.emissiveMap&&null!=e.material.map?(console.log("emissiveMap on: "+e.name),D(e,e.material)):null!=e.material.map&&(t=e,a=e.material,r=new x.MeshBasicMaterial({map:a.map,color:a.color,transparent:a.transparent,alphaTest:a.alphaTest}),t.material=r,z(a.map)))})},[o]);var d=Object(R.a)(T.a,{volume:.75}),h=Object(b.a)(d,1)[0],f=Object(R.a)(Z.a,{volume:.73});Object(b.a)(f,1)[0];return n&&(console.log("door open"),h(),_.a.to(g.current.position,{duration:1.2,delay:1,x:g.current.position.x,y:g.current.position.y,z:295.13}),_.a.to(p.current.position,{duration:1.2,delay:1,x:p.current.position.x,y:p.current.position.y,z:295.13})),i&&(console.log("door close"),_.a.to(g.current.position,{duration:2,z:125.13}),_.a.to(p.current.position,{duration:2,z:125.13})),s.a.createElement("group",Object.assign({ref:l},e,{dispose:null}),s.a.createElement("group",{rotation:[-Math.PI/2,0,0],scale:[.1,.1,.1]},s.a.createElement("group",{rotation:[Math.PI/2,0,0]},s.a.createElement("group",{position:[299,170,318],rotation:[Math.PI/2,0,0],scale:[2.53,14.59,13.76]},s.a.createElement("mesh",{geometry:a.B_Down_Material001_0.geometry,material:a.B_Down_Material001_0.material}),s.a.createElement("mesh",{geometry:a.B_Down_Material003_0.geometry,material:a.B_Down_Material003_0.material})),s.a.createElement("group",{ref:u,position:[299,210,318],rotation:[-Math.PI/2,0,0],scale:[2.53,14.59,13.76]},s.a.createElement("mesh",{geometry:a.B_Up_Material001_0.geometry,material:a.B_Up_Material001_0.material,position:[-15.43,-.01,0],rotation:[0,0,-3.13]}),s.a.createElement("mesh",{geometry:a.B_Up_Material003_0.geometry,material:a.B_Up_Material003_0.material,position:[-15.43,-.01,0],rotation:[0,0,-3.13]})),s.a.createElement("group",{ref:g,position:[287.15,189.52,295.13],rotation:[-Math.PI/2,0,0],scale:[297,385,368.28]},s.a.createElement("mesh",{geometry:a.Door__0.geometry,material:a.Door__0.material})),s.a.createElement("group",{ref:p,position:[287.15,189.52,-295.13],rotation:[-Math.PI/2,0,-Math.PI],scale:[297,385,368.28]},s.a.createElement("mesh",{geometry:a.Door001__0.geometry,material:a.Door001__0.material})),s.a.createElement("group",{position:[0,300,0],rotation:[-Math.PI/2,0,0],scale:[297,385,368.28]},s.a.createElement("mesh",{geometry:a.Elevator_Material001_0.geometry,material:a.Elevator_Material001_0.material}),s.a.createElement("mesh",{geometry:a.Elevator_Material002_0.geometry,material:r["Material.003"]}),s.a.createElement("mesh",{geometry:a.Elevator_Material_0.geometry,material:r["Material.001"]})),s.a.createElement("group",{position:[298.24,500,0],rotation:[-Math.PI/2,0,0],scale:[2.02,53.76,20.8]},s.a.createElement("mesh",{geometry:a.Top__0.geometry,material:a.Top__0.material})))))}function q(e){var t=Object(c.useRef)(),a=Object(c.useRef)(),r=Object(c.useRef)(),o=Object(c.useRef)(),n=F(function(e){return e.floor}),i=Object(c.useRef)(),l=Object(c.useRef)(),m=Object(P.a)("/elevatornew2.glb"),u=m.nodes,g=m.materials,p=F(function(e){return e.doorOpener}),d=F().dodoorOpenr,h=F().hasFirstPlacement,f=(F().turnDebugOn,F().DebugWanted,Object(R.a)(Z.a,{volume:.73})),v=(Object(b.a)(f,1)[0],Object(R.a)(T.a,{volume:.6})),E=Object(b.a)(v,1)[0];return Object(c.useEffect)(function(){var e=_.a.timeline();Q.ParamsGet("debug");h&&(p||(e.to(a.current.scale,{duration:.7,x:1,z:1,y:1}),_.a.timeline().to(r.current.position,{duration:2.5,delay:5,x:-.22}),_.a.timeline().to(i.current.position,{duration:2.5,delay:5,x:.21})));p&&(E(),_.a.timeline().from(l.current.position,{duration:.2,x:1}),_.a.timeline().to(r.current.position,{duration:2.5,delay:3.5,x:-1}),_.a.timeline().to(i.current.position,{duration:2.5,delay:3.5,x:1}))}),s.a.createElement("group",{ref:a,scale:[0,0,0],position:[0,.1,.5]},s.a.createElement("group",Object.assign({ref:t},e,{dispose:null}),s.a.createElement("group",{ref:r,position:[-1.22,.23,-.8],rotation:[Math.PI/2,0,0]},s.a.createElement("mesh",{geometry:u.Door_Left.geometry,material:g.doors_lift,position:[0,0,.31],scale:[.08,.08,.08]})),s.a.createElement("group",{ref:i,position:[.66,.23,-.79],rotation:[Math.PI/2,0,0]},s.a.createElement("mesh",{geometry:u.Door_Right.geometry,material:g["doors_lift.001"],position:[0,0,.31],scale:[.08,.08,.08]})),s.a.createElement("group",{position:[.6,.2,-.71],rotation:[Math.PI/2,0,0],scale:[.01,.01,.01]},s.a.createElement("group",{position:[.11,.5,-20.45],rotation:[0,0,-Math.PI],scale:[2.02,.8,2.02]},s.a.createElement("mesh",{geometry:u.Butt_alarm_1.geometry,material:g.Butt_alarm_Off}),s.a.createElement("mesh",{geometry:u.Butt_alarm_2.geometry,material:g["doors_lift.009"]})),s.a.createElement("group",{position:[-3.66,.29,50.32],rotation:[-Math.PI,0,0],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Butt_Close_1.geometry,material:g.Butt_Close_OFF}),s.a.createElement("mesh",{geometry:u.Butt_Close_2.geometry,material:g["doors_lift.010"]})),s.a.createElement("group",{position:[3.54,.29,50.32],rotation:[-Math.PI,0,0],scale:[1.53,1,1.53]},s.a.createElement("mesh",{geometry:u.Butt_Open_1.geometry,material:g.Butt_Open_OFF}),s.a.createElement("mesh",{onClick:function(e){d()},ref:l,scale:[2.2,2.2,2.2],color:"blue",geometry:u.Butt_Open_1.geometry,material:g.Butt_Open_OFF}),s.a.createElement("mesh",{geometry:u.Butt_Open_2.geometry,material:g["doors_lift.011"]})),s.a.createElement("group",{position:[-3.66,.29,22],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{"material-color":1===n?"green":"white",geometry:u.Button_1_1.geometry,material:g.Button_1_OFF}),s.a.createElement("mesh",{geometry:u.Button_1_2.geometry,material:g["doors_lift.012"]})),s.a.createElement("group",{position:[3.54,.29,22],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_2_1.geometry,material:g.Button_2_OFF}),s.a.createElement("mesh",{geometry:u.Button_2_2.geometry,material:g["doors_lift.013"]})),s.a.createElement("group",{position:[-3.66,.29,17],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_3_1.geometry,material:g.Button_3_OFF}),s.a.createElement("mesh",{geometry:u.Button_3_2.geometry,material:g["doors_lift.014"]})),s.a.createElement("group",{position:[3.54,.29,17],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_4_1.geometry,material:g.Button_4_OFF}),s.a.createElement("mesh",{geometry:u.Button_4_2.geometry,material:g["doors_lift.015"]})),s.a.createElement("group",{position:[-3.66,.29,12],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_5_1.geometry,material:g.Button_5_OFF}),s.a.createElement("mesh",{geometry:u.Button_5_2.geometry,material:g["doors_lift.016"]})),s.a.createElement("group",{position:[3.54,.29,12],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_6_1.geometry,material:g.Button_6_OFF}),s.a.createElement("mesh",{geometry:u.Button_6_2.geometry,material:g["doors_lift.017"]})),s.a.createElement("group",{position:[-3.66,.29,7],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_7_1.geometry,material:g.Button_7_OFF}),s.a.createElement("mesh",{geometry:u.Button_7_2.geometry,material:g["doors_lift.018"]})),s.a.createElement("group",{position:[3.54,.29,7],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_8_1.geometry,material:g.Button_8_OFF}),s.a.createElement("mesh",{geometry:u.Button_8_2.geometry,material:g["doors_lift.019"]})),s.a.createElement("group",{position:[-3.66,.29,2],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_9_1.geometry,material:g.Button_9_OFF}),s.a.createElement("mesh",{geometry:u.Button_9_2.geometry,material:g["doors_lift.020"]})),s.a.createElement("group",{position:[-3.66,.29,32.22],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_B1_1.geometry,material:g.Button_B1_OFF}),s.a.createElement("mesh",{geometry:u.Button_B1_2.geometry,material:g["doors_lift.021"]})),s.a.createElement("group",{position:[-3.66,.29,27.16],rotation:[0,0,Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_G_1.geometry,material:g.Button_G_OFF}),s.a.createElement("mesh",{geometry:u.Button_G_2.geometry,material:g["doors_lift.023"]})),s.a.createElement("group",{position:[3.54,.29,2],rotation:[0,0,-Math.PI],scale:[1.53,.61,1.53]},s.a.createElement("mesh",{geometry:u.Button_R_1.geometry,material:g.Button_R_OFF}),s.a.createElement("mesh",{geometry:u.Button_R_2.geometry,material:g["doors_lift.024"]})),s.a.createElement("mesh",{geometry:u.Display.geometry,material:g["Disp_B2.001"],position:[.02,.35,-52.08],scale:[7.66,7.66,7.66]}),s.a.createElement("mesh",{geometry:u.Panel_1.geometry,material:g["Panel with buttons"],position:[0,-.18,0],scale:[7.66,7.66,7.66]})),s.a.createElement("group",{position:[0,0,.02],rotation:[Math.PI/2,0,0],scale:[.08,.08,.08]},s.a.createElement("mesh",{geometry:u.Elevator_1.geometry,material:g.wall_new_2}),s.a.createElement("mesh",{geometry:u.Elevator_2.geometry,material:g["doors_lift.002"]}),s.a.createElement("mesh",{geometry:u.Elevator_3.geometry,material:g.wall_new3}),s.a.createElement("mesh",{geometry:u.Elevator_4.geometry,material:g.mirror}),s.a.createElement("mesh",{geometry:u.Elevator_5.geometry,material:g.floor_lift}),s.a.createElement("mesh",{geometry:u.Elevator_6.geometry,material:g.roof_lift}),s.a.createElement("mesh",{geometry:u.Elevator_7.geometry,material:g.chrome_lift})),s.a.createElement("mesh",{geometry:u.Frame.geometry,material:g["doors_lift.003"],position:[0,-.03,-.99],rotation:[Math.PI/2,0,0],scale:[.08,.08,.08]},s.a.createElement("group",{position:[-2.87,1.53,6.26],scale:[13.06,13.06,13.06]},s.a.createElement("mesh",{ref:o,geometry:u.Door_Left_out.geometry,material:g["doors_lift.004"],position:[-2,0,-.44],scale:[.08,.08,.08]})),s.a.createElement("group",{position:[2.96,1.53,6.26],scale:[13.06,13.06,13.06]},s.a.createElement("mesh",{geometry:u.Door_Right_out.geometry,material:g["doors_lift.005"],position:[10,0,-.44],scale:[.08,.08,.08]})),s.a.createElement("group",{position:[-6.78,-1.29,.42],rotation:[-Math.PI,0,-Math.PI],scale:[.39,.2,.39]},s.a.createElement("mesh",{geometry:u.Butt_Down_1.geometry,material:g.Button_OFF}),s.a.createElement("mesh",{geometry:u.Butt_Down_2.geometry,material:g["doors_lift.006"]})),s.a.createElement("group",{position:[-6.78,-1.29,-.94],scale:[.39,.2,.39]},s.a.createElement("mesh",{geometry:u.Butt_Up_1.geometry,material:g["Button_OFF.001"]}),s.a.createElement("mesh",{geometry:u.Butt_Up_2.geometry,material:g["doors_lift.007"]})),s.a.createElement("group",{position:[.02,-1.29,-13.76],scale:[.92,.16,.51]},s.a.createElement("mesh",{geometry:u.Display_2_1.geometry,material:g.Disp_B2}),s.a.createElement("mesh",{geometry:u.Display_2_2.geometry,material:g["doors_lift.008"]})))))}function G(e){var t=Object(c.useRef)(),a=Object(c.useRef)(),r=(Object(c.useRef)(),Object(P.a)("/wheelfortune.glb").nodes),o=F().doorCloseRoutine;return Object(c.useEffect)(function(){_.a.timeline().to(a.current.scale,{duration:2,delay:7,x:1,y:1,z:1}),setTimeout(function(){o()},1e4)}),s.a.createElement("group",{ref:a,scale:[0,0,0],position:[0,-1,-10]},s.a.createElement("group",Object.assign({castShadow:!0,ref:t},e,{dispose:null}),s.a.createElement("group",{castShadow:!0,position:[0,0,12.74],rotation:[-Math.PI/2,0,0]},s.a.createElement("group",{castShadow:!0,rotation:[Math.PI/2,0,0]},s.a.createElement("group",{position:[0,4.03,-12.2],rotation:[-Math.PI,0,-Math.PI],scale:[1.5,1.5,1.5]},s.a.createElement("group",{position:[-.64,1.26,-.16],rotation:[-3.14,0,2.66],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_2.geometry,material:r.Mesh_2.material})),s.a.createElement("group",{position:[1.4,-.15,-.17],rotation:[3.14,-.01,-1.54],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_11.geometry,material:r.Mesh_11.material})),s.a.createElement("group",{position:[1.35,.4,-.17],rotation:[3.14,-.01,-1.83],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_12.geometry,material:r.Mesh_12.material})),s.a.createElement("group",{position:[1.12,.93,-.2],rotation:[-3.1,-.07,-2.17],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_13.geometry,material:r.Mesh_13.material})),s.a.createElement("group",{position:[.54,1.33,-.22],rotation:[3.04,-.02,-2.7],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_14.geometry,material:r.Mesh_14.material})),s.a.createElement("group",{position:[-1.06,.91,-.16],rotation:[-3.14,0,2.23],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,geometry:r.Mesh_3.geometry,material:r.Mesh_3.material})),s.a.createElement("group",{position:[-1.31,.44,-.16],rotation:[-3.14,.01,1.89],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_4.geometry,material:r.Mesh_4.material})),s.a.createElement("group",{position:[-1.33,-.2,-.16],rotation:[-3.14,.01,1.35],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_5.geometry,material:r.Mesh_5.material})),s.a.createElement("group",{position:[-1.08,-.83,-.17],rotation:[-3.13,.01,.88],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_6.geometry,material:r.Mesh_6.material})),s.a.createElement("group",{position:[-.52,-1.21,-.17],rotation:[-3.13,0,.35],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_7.geometry,material:r.Mesh_7.material})),s.a.createElement("group",{position:[.12,-1.31,-.17],rotation:[-3.13,0,0],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_8.geometry,material:r.Mesh_8.material})),s.a.createElement("group",{position:[.59,-1.19,-.17],rotation:[-3.13,-.01,-.43],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_9.geometry,material:r.Mesh_9.material})),s.a.createElement("group",{position:[1.11,-.76,-.17],rotation:[-3.14,-.01,-.89],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_10.geometry,material:r.Mesh_10.material})),s.a.createElement("group",{position:[-.13,1.43,-.16],rotation:[3.14,0,3.05],scale:[2,2,2]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_1.geometry,material:r.Mesh_1.material})),s.a.createElement("mesh",{geometry:r.Mesh_0.geometry,material:r.Mesh_0.material}),s.a.createElement("group",{position:[0,2.03,.15]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_15.geometry,material:r.Mesh_15.material})),s.a.createElement("group",{position:[0,-2.73,.23]},s.a.createElement("mesh",{castShadow:!0,receiveShadow:!0,geometry:r.Mesh_16.geometry,material:r.Mesh_16.material})))))))}P.a.preload("/elevator2.glb"),P.a.preload("/elevatornew2.glb"),P.a.preload("/wheelfortune.glb");var K=a(56),X=a(57),H=a(61),J=a(55);var N=function(){var e=Object(J.a)(1800,1e3),t=F().characterWelcomeVideoFinished,a=F().setWelcomeVideoFinished,r=Object(c.useRef)(),o=Object(c.useState)(function(){var e=document.createElement("video");return e.src="/assets/videos/donnashort.mp4",e.crossOrigin="Anonymous",e.loop=!1,e.muted=!1,e.preload=!0,e.playsinline=!0,t&&(e.src="/assets/videos/donnaidle.mp4",e.loop=!0,e.play()),e.onended=function(){console.log("video ended "),a()},e}),n=Object(b.a)(o,1)[0];return Object(c.useEffect)(function(){var e=setTimeout(function(){return n.play([n])},3500);return function(){clearTimeout(e)}},[]),s.a.createElement("group",{scale:1,position:[0,-.4,0]},s.a.createElement("mesh",{scale:e,position:[0,-.12,-1.5]},s.a.createElement("planeBufferGeometry",{args:[.2,.5]}),s.a.createElement("meshBasicMaterial",{position:[1,1,1],toneMapped:!1},s.a.createElement("videoTexture",{ref:r,attach:"map",args:[n],encoding:x.sRGBEncoding},s.a.createElement("shaderMaterial",{attach:"material",args:[{uniforms:Q.getUniforms(r),vertexShader:Q.getVertexShader(),fragmentShader:Q.getFragmentShaderChroma(),transparent:!0}]})))))};function $(){var e=Object(c.useRef)();return s.a.createElement(c.Suspense,null,s.a.createElement("mesh",{position:[0,-3.5,-4.3],ref:e,scale:5},s.a.createElement("boxGeometry",null),s.a.createElement("meshStandardMaterial",{color:"black"})))}function ee(){var e=Object(c.useRef)();return s.a.createElement(c.Suspense,null,s.a.createElement("mesh",{position:[0,-3.5,-8.8],ref:e,scale:5},s.a.createElement("boxGeometry",null),s.a.createElement("meshStandardMaterial",{color:"black"})))}function te(e){var t=Object(O.a)({},e);return s.a.createElement("group",Object.assign({name:"MyflatText"},t))}var ae=function(e){e.name,e.updateCtx;var t=Object(c.useRef)(),a=Object(c.useRef)(),r=Object(c.useRef)(),o=F(function(e){return e.floor}),n=F(function(e){return e.doorOpener}),i=F(function(e){return e.triggerRaiser}),l=(F().modelNum,F()),m=l.hasFirstPlacement,u=l.floorClickedX,g=l.floorClickedY,p=l.floorClickedZ,d=Object(c.useState)(""),h=Object(b.a)(d,2),f=(h[0],h[1]),v=Object(c.useState)("--Y:"),E=Object(b.a)(v,2),y=(E[0],E[1]),x=Object(c.useState)("--Z:"),w=Object(b.a)(x,2),S=(w[0],w[1]);return Object(c.useEffect)(function(){f("X: "+u),y("Y: "+g),S("Z: "+p)}),Object(c.useEffect)(function(e,t){console.log("floor:"+o+" raiser:"+i+" doorOpener:"+n+" hasFirstPlacement:"+m),i&&setTimeout(function(){},2e3)}),s.a.createElement("group",{position:[0,0,0]},s.a.createElement("group",{visible:Q.ParamsGet("portal"),name:"FOR-DEBUG"},s.a.createElement("group",{name:"wireframebox"},s.a.createElement(K.a,{color:"blue"},s.a.createElement("meshBasicMaterial",{ref:a,wireframe:!0,color:"blue"}))),s.a.createElement("group",{position:[0,0,0]})),s.a.createElement(te,null),s.a.createElement("ambientLight",{intensity:1.3}),s.a.createElement("spotLight",{intensity:1.6,position:[20,10,10],angle:.2,penumbra:1,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,castShadow:!0}),s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null,s.a.createElement("h1",{style:{color:"white"}},"Loading..."))},1===o&&s.a.createElement("group",{visible:1===o,position:[0,0,0],scale:[.5,.5,.5]},s.a.createElement($,null),s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null)},s.a.createElement(G,{position:[0,0,0],scale:[1,1,1],rotation:[0,0,0]}),s.a.createElement(ee,null)),s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null)},s.a.createElement(H.a,{preset:"night",background:!0})),s.a.createElement("group",{position:[0,2,-1.3],scale:[3,3,3]},s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null)},s.a.createElement(N,{ref:r,position:[0,0,0],rotation:[0,Math.PI/2,0]})))),2===o&&s.a.createElement("group",null,s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null)},s.a.createElement(H.a,{preset:"city",background:!0}))),3===o&&s.a.createElement("group",null,s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null)},s.a.createElement(H.a,{preset:"dawn",background:!0}))),"a"===Q.ParamsGet("portal")&&s.a.createElement("group",{ref:t,position:[0,-.02,0],scale:[.045,.08,.045],rotation:[0,Math.PI/2,0]},s.a.createElement(Y,null)),!Q.ParamsGet("portal")&&s.a.createElement(c.Suspense,{fallback:s.a.createElement(X.a,null,"Loading..")},s.a.createElement("group",{ref:t,position:[0,1.45,0],rotation:[0,0,0]},s.a.createElement(q,{scale:[1.8,1.8,1.8]})))))};function re(){var e=Object(c.useRef)();return s.a.createElement("mesh",{ref:e},s.a.createElement("boxBufferGeometry",null),s.a.createElement("shaderMaterial",{attach:"material",args:[{uniforms:{u_time:{type:"f",value:0}},vertexShader:"\n      precision mediump float;\n      varying vec2 vUv;\n      void main() {\n          vec4 mvPosition = modelViewMatrix * vec4(position, 1.);\n          gl_Position = projectionMatrix * mvPosition;\n          vUv = uv;\n      }\n    ",fragmentShader:"\n      varying vec2 vUv;\n      uniform float u_time;\n      void main() {\n        vec2 uv = vUv;\n        float cb = floor((uv.x + u_time) * 40.);\n        gl_FragColor = vec4(mod(cb, 2.0),0.,0.,1.);\n      }\n    "}]}))}var oe,ne=function(e){var t=e.name,a=e.updateCtx,r=Object(m.d)(),o=r.scene,n=r.gl,i=r.camera,l=Object(c.useState)(null),u=Object(b.a)(l,2),g=u[0],p=u[1],d=Object(c.useRef)(),h=Object(c.useRef)(),f=Object(c.useRef)(),v=Object(c.useState)(!1),E=Object(b.a)(v,2),y=E[0],x=E[1],w=F().hasPlacedRoutine,S=F().doBoundsWarning,C=F().boundsWarning,O=(F().floorClickedZ,F()),A=O.setfloorClickedX,B=O.setfloorClickedY,I=O.setfloorClickedZ;n.domElement.id=t;var j=Object(R.a)(W.a,{volume:1.18}),M=Object(b.a)(j,1)[0];Object(m.b)(function(e){var t=e.gl,a=e.scene,r=e.camera;e.raycaster,t.clearDepth(),t.render(a,r);var o=!1;y&&(r.position.x<-1&&(S("right"),o=!0),r.position.x>1&&(S("left"),o=!0),r.position.z,o||C&&S(!1))},1);var k=window,P=k.XR8,_=k.THREE;Object(c.useEffect)(function(){P.addCameraPipelineModule({name:"xrthree",onStart:T,onUpdate:V,onCanvasSizeChange:L,xrScene:Z})});var L=function(e){var t=e.canvasWidth,a=e.canvasHeight;n.setSize(t,a),i.aspect=t/a,i.updateProjectionMatrix()},T=function(e){var t=e.canvasWidth,r=e.canvasHeight;n.autoClear=!1,n.setSize(t,r),n.antialias=!0,a({scene:o,camera:i,renderer:n}),P.XrController.updateCameraProjectionMatrix({origin:i.position,facing:i.quaternion})},V=function(e){var t=e.processCpuResult;i.updateProjectionMatrix();var a=t.reality;if(a&&a.intrinsics){for(var r=a.intrinsics,o=a.position,n=a.rotation,l=i.projectionMatrix.elements,c=0;c<16;c++)l[c]=r[c];i.projectionMatrixInverse.copy(i.projectionMatrix).invert(),i.setRotationFromQuaternion(n),i.position.copy(o)}},Z=function(){return{scene:o,camera:i,renderer:n}};return Object(m.b)(function(){var e=new _.Raycaster,t=new _.Vector2(0,0),a=new _.Vector3(0,1,-1);e.setFromCamera(t,i);var r=e.intersectObject(d.current,!0);r.length>0&&(a=Object(b.a)(r,1)[0].point),y||(f.current.position.y=.1,f.current.position.lerp(a,.4),f.current.rotation.y=i.rotation.y)}),s.a.createElement("group",null,s.a.createElement("group",{name:"crawlingreticle",visible:!y,ref:f},s.a.createElement("mesh",{scale:[.4,.01,.4],rotation:[0,0,0]},s.a.createElement(re,null))),s.a.createElement("mesh",{name:"floormeshsurface",onPointerDown:function(e){if(!y){P.XrController().recenter(),x(!0),w(),M();var t=new _.Vector3(f.current.position.x,f.current.position.y,f.current.position.z);return A(f.current.position.x),B(f.current.position.y),I(f.current.position.z),p(t)}},receiveShadow:!0,position:[0,0,0],ref:d,"rotation-x":-Math.PI/2},s.a.createElement("planeGeometry",{attach:"geometry",args:[100,100,1,1]}),s.a.createElement("shadowMaterial",{opacity:.3})),s.a.createElement("group",{position:[0,0,0]},s.a.createElement("mesh",{castShadow:!0,position:g,visible:!!g,ref:h},s.a.createElement(ae,null))))},ie=function(){var e,t=Object(m.d)().gl,a=window,r=a.XR8,o=(a.THREE,{}),n=0,i=t.domElement,l={position:"static",width:"100%",height:"100%",margin:"0px",padding:"0px",border:"0px",display:"block",top:"0px",left:"0px"},u={position:"fixed",width:"100%",height:"100%",margin:"0px",padding:"0px",border:"0px",display:"block",top:"0px",left:"0px"},g={width:"100%",height:"100%",margin:"0px",padding:"0px",border:"0px"},p=function t(){if(e){var a=window.innerWidth,r=window.innerHeight,c=a*devicePixelRatio,s=r*devicePixelRatio;if((0===n||180===n)&&c>s||(90===n||-90===n)&&s>c)window.requestAnimationFrame(t);else{var m=Math.max(c,s),g=Math.min(c,s),p=m/g,d=Math.max(o.w,o.h),h=Math.min(o.w,o.h),f=d,v=Math.round(d/p);if(v>h&&(v=h,f=Math.round(h*p)),(v>g||f>m)&&(v=g,f=m),c>s){var E=v;v=f,f=E}Object.assign(e.style,l),e.width=v,e.height=f,Object.assign(i.style,u),i.width=v,i.height=f,setTimeout(function(){return window.scrollTo(0,(window.scrollY+1)%2)},300)}}},d=function(e){var t=e.videoWidth,a=e.videoHeight;o.w=t,o.h=a};Object(c.useEffect)(function(){r.addCameraPipelineModule({name:"fullwindow-canvas",onUpdate:h,onStart:f,onDeviceOrientationChange:y,onCanvasSizeChange:E,onVideoSizeChange:v,onCameraStatusChange:b})});var h=function(){e.style.width===l.width&&e.style.height===l.height||p()},f=function(t){var a=t.canvas,r=t.orientation;n=r,(e=a).style=l,i.style=u;var o=document.getElementsByTagName("body")[0];Object.assign(o.style,g),o.appendChild(e),p()},v=function(e){var t=e.videoWidth,a=e.videoHeight;d({videoWidth:t,videoHeight:a}),p()},E=function(){p()},y=function(e){var t=e.orientation;n=t,p()},b=function(e){var t=e.status,a=e.video;"hasVideo"===t&&d(a)};return s.a.createElement(s.a.Fragment,null)},le=(a(24),a(40)),ce=a.n(le),se=function(e){var t=Object(R.a)(W.a,{volume:1.18}),a=Object(b.a)(t,1)[0],r=F().setrecenterAwaiting,o=F().boundsWarning,n=(F().doBoundsWarning,F().recenterAwaiting),i=F(),l=i.hasFirstPlacement,m=(i.sethasFirstPlacement,Object(c.useRef)()),u=document.getElementById("recenterButton"),g=(document.getElementById("outofboundsText"),window.XR8);return Object(c.useEffect)(function(){n&&(a(),u.classList.add("pulse-once"),setTimeout(function(){u.classList.remove("pulse-once")},200),r(!1),g.xrController().recenter())}),s.a.createElement("div",null,o&&s.a.createElement(function(e){return s.a.createElement("div",{id:"promptText"},e.line1,s.a.createElement("br",null),e.line2)},{line1:"Out Of Bounds",line2:"Go "+o}),l&&s.a.createElement("div",{id:"recenterButton",ref:m,onClick:function(){r(!0)},className:"recentercontainer"},s.a.createElement("img",{className:"myImage",src:ce.a,alt:"recenter logo"})))},me=a(1),ue=new(function(){function e(){Object(g.a)(this,e),this.lastGoodCameraPosition=new me.Vector3,this.getVertexShader=this.getVertexShader.bind(this),this.getFragmentShader=this.getFragmentShader.bind(this),this.getUniforms=this.getUniforms.bind(this),this.getVertexShader=this.getVertexShader.bind(this),this.getFragmentShaderChroma=this.getFragmentShaderChroma.bind(this),this.addLightMatLighting=this.addLightMatLighting.bind(this),this.Initialize()}return Object(p.a)(e,[{key:"addLightMatLighting",value:function(e){var t=this;e.traverse(function(e){!0===e.isMesh&&(e.frustumCulled=!1,null!=e.material.emissiveMap&&null!=e.material.map?t.setupLightmapShader(e,e.material):null!=e.material.map&&t.setupUnlitMaterial(e,e.material))})}},{key:"getVertexShader",value:function(){return"    \n            varying vec2 vUv;\n            void main()\n            {\n                vUv = uv;\n                vUv.x = mix(0.0,1.0,uv.x);\n                vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n                gl_Position = projectionMatrix * mvPosition;\n            }"}},{key:"getFragmentShader",value:function(){return"\n        uniform sampler2D colorTexture;\n        uniform sampler2D lightmapTexture;\n        uniform vec4 mainColor;\n        uniform float glow;\n        uniform vec4 glowColour;  \n        varying vec2 vUv;\n        varying vec2 vUv2;\n\n        void main( void ) {\n\n                vec4 c = texture2D( colorTexture, vUv );\n                vec4 l = texture2D( lightmapTexture, vUv2 );\n                c.rgb *= mainColor.rgb;\n                c.rgb *= l.rgb;\n                c.rgb = mix(c.rgb, glowColour.rgb, glow);\n                gl_FragColor = c;\n                gl_FragColor.a = c.a;\n        }\n    "}},{key:"getFragmentShaderChroma",value:function(){console.log("  get getFragmentShaderChroma");return"    \n            uniform sampler2D colorTexture;\n            varying vec2 vUv;\n            uniform float glow;\n            uniform vec4 glowColour;                     \n            \n            void main( void ) {\n                const float radius = 0.003;\n                vec4 cs1 = texture2D( colorTexture, vUv );\n                vec4 cs2 = texture2D( colorTexture, vUv + vec2(-radius, -radius));\n                vec4 cs4 = texture2D( colorTexture, vUv + vec2(radius, radius));\n                \n                vec4 c = (cs1 + cs2 + cs4) / 3.0;\n        \n                vec3 color = vec3(0.0,1.0,0.0);\n                float a = (0.875 - dot(color, c.rgb) / (length(c.rgb) + 0.04)) * 4.0;\n                a = pow(a,3.0);\n                vec4 c2 = vec4(mix(cs1.rgb, glowColour.rgb, glow), a);\n                float deltag = c2.g - ((c2.r + c2.g + c2.b)*0.333);\n        \n                if (deltag > 0.0)\n                    c2.g -= (deltag*1.0);\n\n                gl_FragColor = c2; \n            }"}},{key:"ParamsGet",value:function(e){var t=window.location.search;return new URLSearchParams(t).get(e)}},{key:"applyMaterial",value:function(e,t){e.traverse(function(e){!0===e.isMesh&&(e.material=t)})}},{key:"getUniforms",value:function(e){return{colorTexture:{value:e},glow:{value:0},glowColour:{value:{x:0,y:1,z:0,w:1}}}}},{key:"Initialize",value:function(){console.log("GenTools Initialized")}},{key:"setupLightmapShader",value:function(e,t){var a=new me.Vector4(t.color.r,t.color.g,t.color.b,t.color.a),r={colorTexture:{value:t.map},mainColor:{value:a},lightmapTexture:{value:t.emissiveMap},lightmapOffset:{value:t.emissiveMap.offset},lightmapScale:{value:t.emissiveMap.repeat},glow:{value:0},glowColour:{value:{x:0,y:1,z:0,w:1}}},o=new me.ShaderMaterial({uniforms:r,vertexShader:this.getVertexShader(),fragmentShader:this.getFragmentShader(),transparent:t.transparent,alphaTest:t.alphaTest});e.material=o,this.setTextureSettingBase(t.map),this.setTextureSettingLightmap(t.emissiveMap)}},{key:"setupUnlitMaterial",value:function(e,t){var a=new me.MeshBasicMaterial({map:t.map,color:t.color,transparent:t.transparent,alphaTest:t.alphaTest});e.material=a,this.setTextureSettingBase(t.map)}},{key:"setTextureSettingBase",value:function(e){e.anisotropy=8,e.minFilter=me.LinearMipmapLinearFilter,e.encoding=me.LinearEncoding}},{key:"setTextureSettingLightmap",value:function(e){e.encoding=me.LinearEncoding}}]),e}()),ge=(oe=function(e){function t(t){var a=t.appKey,r=t.xr8Config,o=(t.updateCtx,Object(u.a)(t,["appKey","xr8Config","updateCtx"])),n=Object(c.useRef)(null),i=C(a,n.current);return s.a.createElement(s.a.Fragment,null,s.a.createElement(y,{rootElement:document.body},s.a.createElement("canvas",{ref:n})),i&&s.a.createElement(e,Object.assign({XR8:i,xr8Config:r},o)))}return t.defaultProps={updateCtx:void 0},function(e){return s.a.createElement(t,e)}}(function(e){var t=e.XR8,a=(e.xr8Config,e.onComplete,e.backgroundImage,function(){var e=Object(c.useContext)(B);if(!e)throw new Error("No proper appStateContext provided");return e}().updateCtx);return Object(c.useEffect)(function(){t&&a({XR8:t})},[t,a]),s.a.createElement("group",null,s.a.createElement(se,null),s.a.createElement(m.a,{concurrent:!0,style:{width:"100%",height:"100%",position:"absolute",left:"0px",top:"0px",zIndex:100},raycaster:{filter:function(e,t){return e.slice(0,1)}},shadows:!0,shadowMap:!0,updateDefaultCamera:!1,camera:{position:[0,0,5],fov:60}},s.a.createElement(ne,{name:"xr-three",updateCtx:a}),s.a.createElement(ie,null)))}),function(e){var t=Object(O.a)({},e);return s.a.createElement(I,t,s.a.createElement(oe,null))}),pe=a(62),de=a(59);a(58);function he(){F().turnDebugOn;var e=F().hasPlacedRoutine,t=F().hasFirstPlacement;return Object(c.useEffect)(function(){t||e()}),s.a.createElement(m.a,{style:{height:"100vh",width:"100%"},shadowMap:!0,concurrent:!0,shadows:!0,gl:{alpha:!1},camera:{position:[0,1,1],rotation:[0,1,0],fov:75}},s.a.createElement("group",null,s.a.createElement("mesh",{name:"floormeshsurface",receiveShadow:!0,position:[0,0,0],"rotation-x":-Math.PI/2},s.a.createElement("planeGeometry",{attach:"geometry",args:[100,100,1,1]}),s.a.createElement("shadowMaterial",{opacity:.3})),s.a.createElement(c.Suspense,null),s.a.createElement("group",{position:[0,0,0]},s.a.createElement("mesh",{castShadow:!0}))),s.a.createElement(ae,null),s.a.createElement("ambientLight",{intensity:1.3}),s.a.createElement(pe.a,{target:[0,1,.01]}),s.a.createElement(de.a,null))}var fe=function(e,t){console.log("onComplete has been triggered"),console.log("action =",e),console.log("result =",t),alert("Check your logs!")},ve=function(e){F().changeModel,F().modelNum;return e?ue.ParamsGet("onscreen")?s.a.createElement(he,e):s.a.createElement(ge,e):null};(function(){var e=Object(n.a)(o.a.mark(function e(){var t,a;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("config.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l.a.render(s.a.createElement(ve,Object.assign({onComplete:fe},a)),document.querySelector("#root"));case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}})()()}},[[41,3,1]]]);
//# sourceMappingURL=main.af0bacc0.chunk.js.map